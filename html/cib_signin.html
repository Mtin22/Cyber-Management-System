<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="../CSS/CIB_CSS.css">
        <script src="https://kit.fontawesome.com/9065e3a5e6.js" crossorigin="anonymous"></script>
        <link rel="icon" type="image/x-icon" href="../img/DWK_Logo_Circular.png">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="../js/accountHandling.js"></script>
        <title> CIB - Group7 </title>
    </head>
    
    <body>
        <header>
            <img src="../img/DWK_Logo_Circular.png" style= "height:88px; width:100px; float: left;">
            <h1> DWK - Incident Report System </h1>
        </header>    
        <nav>
            <section class="navright">
                <a href="cib_signup.html" title= "Sign up"> <i class="fa-solid fa-user"></i> </a> 
            </section>
        </nav>
        <section class="main" style="text-align: left; padding: 20px 60px 340px 40px;">
            <section class= "accessibility" >
                <a id="volume" onclick="accessibilityman()" href="" title= "Live Speech"><i class="fa-solid fa-volume-high"></i></a>
                &emsp;
                <a id="largetext" onclick="accessibilityman()" href="" title= "Larger Text"><i class="fa-solid fa-a"></i></a>
                &nbsp;
                &nbsp;
            </section>
        <form>
            <h2>Sign in Page</h2>
            <br>
            <label for="signinemail"> Email: </label>
            <i class="fa-solid fa-envelope" style="color: azure;"></i>
            <br>
            <input type="email" id="signinemail"  placeholder="@email.com">
            <br>
            <br>
            <label for="signinpassword"> Password: </label>
            <i class="fa-solid fa-key" style="color: azure;"></i>
            <br>
            <input type="password" id="signinpassword" placeholder="Password">
            <br>
            <br>
            <input type="checkbox" onclick="unhidepassword()"> Reveal Password
            <br>
            <br>
            <button onclick="signin()"> Sign in  &nbsp; <i class="fa-solid fa-right-to-bracket"></i></button>
        </form>
        <br>
        <br>  
        <p>Not Signed up yet? Sign up here: <a href="cib_signup.html">Sign up </a> </p>
        </section>
    <script>
        function unhidepassword() {
            let password = document.getElementById("signinpassword");
            if (password.type == "password"){
            password.type = "text";
            }
            else {
            password.type = "password";
            }           
        } 

        function signin() {
            let email = document.getElementById("signinemail").value;
            let password = document.getElementById("signinpassword").value;
            
            let signupemail = sessionStorage.getItem("signupemail");
            let signuppassword = sessionStorage.getItem("signuppassword");


            if (email == "" || password == ""){
                alert("Please fill all fields!");
                event.preventDefault()
            }

            else if (email != signupemail || password != signuppassword) {
                alert("Make sure that you are using the same Email & Password that you Signed up with!")
                event.preventDefault();
            }
            else if (prompt("We sent a 2FA Code to the Phone Number that you have Signed up with, enter this 2FA code here: ") != null ){
                window.location = "cib_home.html";
                event.preventDefault();
            }
            else {
                event.preventDefault();
            }

        }
    </script>
    <footer>
        <p><i class="fa-solid fa-copyright"></i> All Rights Reserved </p>
    </footer>
    </body>
</html>